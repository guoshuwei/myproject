<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<!-- IE / Chrome -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<!-- 360极速模式 -->
	<meta name="renderer" content="webkit" />
	<title> 我的团队 </title>
    <link rel="stylesheet" href="../libs/jquery/zTree/zTreeStyle.css">

	<link rel="stylesheet" href="../css/common.css">
	<link rel="stylesheet" href="../css/team.css">
</head>
<body>

<div class="g-site-wrap">
	<div class="g-site-top">

		<!-- g-head -->
		<%- include ../tpl/site-hd.html %>

	</div>
	<div class="J_SiteBody g-site-body">
		
        <%- include ../tpl/site-side.html %>

		<div class="J_SiteMain g-site-main">

			<div class="m-layout">

				<h2 class="m-title2">我的团队</h2>
				<div class="m-wrap">
                    <!--p-query-->
                    <div class="p-query">
                        <input type="text" class="m-input" placeholder="请输入团队成员姓名">
						<a class="m-btn m-btn-orange" href="javascript:;">查 询</a>
                    </div>

                    <!-- p-tree -->
                    <div class="p-tree">
                    	<!-- 排序：sort-up sort-down -->
                        <ul class="hd clearfix">
                            <li class="fl row-4 name">下级团队成员姓名<i class="sort sort-up"></i></li>
                            <li class="fl row-2">员工工号</li>
                            <li class="fl row-3">员工职位</li>
                            <li class="fl row-2">在职状态</li>
                            <li class="fl row-3">联系电话</li>
                        </ul>
                        <div class="bd"><ul class="ztree" id="J_Tree"></ul></div>
                    </div>
				</div>
			</div>

		</div>
	</div>
</div>

<script src="../libs/jquery/jquery.min.js"></script>
<script src="../libs/jquery/jquery.slimscroll.min.js"></script>
<script src="../libs/jquery/zTree/jquery.ztree.core-3.5.min.js"></script>
<script src="../js/common.js"></script>
<script>

    var treeSetting = {
        view: {
            addDiyDom: addDiyDom,
            showIcon: false
        }
    };

	var treeNodes =[{
		id:1,
		name:"叶良辰",
		open:true,
		children:[
			{
				id:11,
				name:"张三",
				open:true,
				children: [
					{id:111, name:"张01", info: ['000005', '开发', '在职', '13500000000']},
					{id:112, name:"张02", info: ['000006', '开发', '在职', '13600000000']},
					{id:113, name:"张03", info: ['000007', '开发', '在职', '13700000000']}
				],
				info: ['000003', '经理', '在职', '13300000000']
			},
			{id:12, name:"赵四", info: ['000004', '开发', '在职', '13400000000']}
		],
		info: ['000001', 'CIO', '在职', '13100000000']
	}
	];

    // 点击详情
    function treeTableDetail(){
        alert('点击详情');
    }

    function addDiyDom(treeId, treeNode) {
        if (treeNode.parentNode && treeNode.parentNode.id!=2) return;
        var aObj = $("#" + treeNode.tId + "_a");

        if ($("#treeBtn_"+treeNode.id).length>0) return;
        var treeRow = '<span class="tree-row">' +
                '<span class="item row-2">'+ treeNode["info"][0] +'</span>'+
                '<span class="item row-3">'+ treeNode["info"][1] +'</span>'+
                '<span class="item row-2">'+ treeNode["info"][2] +'</span>'+
                '<span class="item row-3">'+ treeNode["info"][3] +'</span>'+
                '</span>';
        aObj.after(treeRow);
    }

    $(function(){
        $.fn.zTree.init($("#J_Tree"), treeSetting, treeNodes);

		$.fn.zTree.init($("#J_Tree1"), treeSetting, treeNodes);
    });
</script>
</body>
</html>