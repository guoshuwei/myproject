var TabTools={create:function(){return function(){this.init.apply(this,arguments)}},extend:function(t,e){for(var o in e)t[o]=e[o];return t},bindEvent:function(t,e,o){return window.addEventListener?t.addEventListener(e,o,!1):t.attachEvent("on"+e,o)}},Tab=TabTools.create();Tab.prototype={init:function(t){this.opts=TabTools.extend({hd:[],bd:[],active:"active",bdClassName:"item",ev:"mouseover",delay:0,now:0,onBefore:function(t){},onAfter:function(t){}},t||{}),this.render(),this.select(this.opts.now)},select:function(t){this.opts.onBefore(t);for(var e=0,o=this.opts.hd.length;o>e;e++)this.opts.hd[e].className="",this.opts.bd[e].className=this.opts.bdClassName,this.opts.bd[e].style.display="none";this.opts.hd[t].className=this.opts.active,this.opts.bd[t].className=this.opts.bdClassName+" "+this.opts.active,this.opts.bd[t].style.display="block",this.opts.onAfter(t)},render:function(){for(var t=this,e=0,o=this.opts.hd.length;o>e;e++)!function(e){if("mouseover"===t.opts.ev){var o=null,s=0,n=0;TabTools.bindEvent(t.opts.hd[e],"mouseover",function(){t.opts.now!==e&&(s=(new Date).getTime(),clearTimeout(o),o=setTimeout(function(){t.select(t.opts.now=e)},t.opts.delay))}),TabTools.bindEvent(t.opts.hd[e],"mouseout",function(){n=(new Date).getTime(),n-s<t.opts.delay&&clearTimeout(o)})}else TabTools.bindEvent(t.opts.hd[e],t.opts.ev,function(){t.opts.now!==e&&t.select(t.opts.now=e)})}(e)}};